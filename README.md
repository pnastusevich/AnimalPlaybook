# Animal Playbook

 SwiftUI-приложение для изучения животных в игровой и энциклопедической форме.

## Архитектура

Приложение использует архитектуру **MVVM+C** (Model-View-ViewModel + Coordinator):
- **Models** - структуры данных
- **Views** - SwiftUI представления
- **ViewModels** - бизнес-логика и состояние
- **Coordinators** - управление навигацией и потоком приложения
- **Services** - сервисы (звук, логирование)

## Функциональность
### 1. TAB Animals (Животные)
- Список животных в виде карточек или списка
- Фильтрация по категориям (All, Animal, Bird, Insect, Fish)
- Детальный экран с описанием животного
- Воспроизведение звука конкретного животного
- Адаптивный UI для всех размеров экранов

### 2. TAB Sounds (Звуки)
- Список всех доступных звуков животных
- Воспроизведение, пауза и остановка звуков
- Индикация активного звука
- Поддержка отключения звука через настройки

### 3. TAB Game (Игра)
- **Система уровней**: 7 уровней с увеличивающейся сложностью

- **Три состояния игры**:
  1. **Начальный экран** - описание игры и правила
  2. **Игровой экран** - вопросы с вариантами ответов
  3. **Экран итогов** - результаты игры (победа/проигрыш)

- **Особенности**:
  - Случайный выбор режима вопроса (звук или картинка)
  - Попытки сохраняются на весь уровень
  - Счёт накапливается между уровнями
  - Отображение прогресса уровня
  - Алерты при прохождении уровней (кроме последнего)
  - Сохранение лучшего счёта

### 4. TAB Learn (Обучение)
- Список интересных фактов о животных
- Фильтрация по категориям
- Прокручиваемый список с карточками фактов

### 5. TAB Settings (Настройки)
- Переключатель звука
- Выбор стиля отображения (карточки/список)
- Отображение лучшего счёта в игре
- Информация о приложении (версия, количество животных и фактов)

## Технические детали

### Архитектура
- **MVVM+C** - Model-View-ViewModel + Coordinator
- **NavigationStack** - современная навигация SwiftUI (iOS 16+)
- **Combine** - реактивное программирование

### Сервисы
- **SoundService** - воспроизведение звуков через AVAudioPlayer
- **LoggerService** - централизованное логирование с уровнями (debug, info, warning, error, success)

### UI/UX
- **AdaptiveSize** - адаптивные размеры для всех устройств (включая iPhone SE)
- **Тёмная тема** - полная поддержка светлой и тёмной темы
- **Адаптивные цвета** - использование системных цветов

### Хранение данных
- **@AppStorage** - настройки пользователя
- **UserDefaults** - лучший счёт в игре

### Зависимости
- Только стандартные библиотеки Apple
- Минимальные внешние зависимости

## Требования
- **iOS**: 16.0+
- **Xcode**: 14.0+
- **Swift**: 5.7+

## Установка и сборка
### Клонирование репозитория
```bash
git clone https://github.com/your-username/AnimalPlaybook.git
cd AnimalPlaybook
```

### Открытие проекта в Xcode
Откройте файл `AnimalPlaybook.xcodeproj` в Xcode:
   - File → Open
   - Выберите папку проекта

### Сборка проекта
1. Нажмите `Cmd + B` для сборки проекта
2. Или выберите Product → Build


### Запуск приложения
Нажмите `Cmd + R` для запуска
   - Или выберите Product → Run
   - Или нажмите кнопку Play в верхней панели

После успешной сборки приложение автоматически запустится в симуляторе.

## Особенности реализации
### Логирование
Приложение использует централизованный сервис логирования `LoggerService`:
- Уровни логирования: debug, info, warning, error, success
- Интеграция с OSLog
- Автоматическое определение файла, функции и строки
- Категоризация логов по модулям

### Координаторы
Управление навигацией через координаторы:
- `AppCoordinator` - главный координатор приложения
- `MainTabCoordinator` - управление табами
- `AnimalsCoordinator` - навигация в модуле животных

### Адаптивный UI
Все элементы интерфейса адаптируются под размер экрана:
- Шрифты масштабируются пропорционально
- Отступы и промежутки адаптируются
- Минимальный масштаб для iPhone SE
- Максимальный масштаб для больших экранов

### Игровая механика
- Случайный выбор животных для каждого уровня
- Случайный выбор режима вопроса (звук/картинка)
- Попытки считаются на весь уровень
- Счёт сохраняется до проигрыша
- Автоматическое сохранение лучшего счёта

## Примечания
- Приложение работает полностью офлайн
- Все данные хранятся локально
- Звуковые файлы включены в проект
- Поддержка всех размеров iPhone (от SE до Pro Max)
- Полная поддержка тёмной темы
